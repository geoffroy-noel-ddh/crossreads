{"N":"package","version":"10","packageVersion":"1","saxonVersion":"SaxonJS 2.7","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2025-09-30T23:25:53.98+01:00","ns":"xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 =http://www.w3.org/1999/xhtml","C":[{"N":"co","id":"0","binds":"0","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"1","ns":"xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 =http://www.w3.org/1999/xhtml","minImp":"0","flags":"s","slots":"200","baseUri":"file:///home/jeff/src/prj/crossreads/app/data/html2html.xslt","line":"16","module":"html2html.xslt","expand-text":"false","match":"@data-idx","prio":"0","matches":"NA nQ{}data-idx","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}data-idx","sType":"1NA nQ{}data-idx","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 "},{"N":"let","var":"Q{}idx-w","slot":"0","sType":"*NA ","line":"17","role":"action","C":[{"N":"doc","sType":"1ND ","base":"file:///home/jeff/src/prj/crossreads/app/data/html2html.xslt","role":"select","C":[{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"numSeqFmt","flags":"1","C":[{"N":"nodeNum","role":"value","level":"any","needsNode":"true","C":[{"N":"dot","sType":"1NA nQ{}data-idx","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","role":"select","line":"3"},{"N":"p.withUpper","role":"count","axis":"parent","sType":"1NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","C":[{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}data-idx"}]},{"N":"p.withUpper","axis":"ancestor-or-self","C":[{"N":"p.nodeTest","test":"N"},{"N":"p.withPredicate","C":[{"N":"p.nodeTest","test":"NE"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"attVal","name":"Q{}class"}]}]},{"N":"str","val":"is-word"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]}]}]},{"N":"p.withPredicate","role":"from","sType":"1NE","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"check","card":"?","diag":"0|0||contains","C":[{"N":"attVal","name":"Q{}class"}]}]},{"N":"str","val":"is-word"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]}]},{"N":"str","sType":"1AS ","val":"1","role":"format"},{"N":"str","sType":"1AS ","val":"1","role":"startAt"}]}]}]},{"N":"let","var":"Q{}idx-n","slot":"1","sType":"*NA ","line":"18","C":[{"N":"doc","sType":"1ND ","base":"file:///home/jeff/src/prj/crossreads/app/data/html2html.xslt","role":"select","C":[{"N":"valueOf","flags":"l","sType":"1NT ","C":[{"N":"numSeqFmt","flags":"1","C":[{"N":"nodeNum","role":"value","level":"any","needsNode":"true","C":[{"N":"dot","sType":"1NA nQ{}data-idx","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","role":"select","line":"5"},{"N":"p.withPredicate","role":"count","sType":"1NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}data-idx"}]},{"N":"p.withPredicate","role":"from","sType":"1NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ex=~ ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"compareToString","op":"ne","val":"NaN","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"string","C":[{"N":"fn","name":"number","C":[{"N":"check","card":"?","diag":"0|0||number","C":[{"N":"attVal","name":"Q{}data-tei-n"}]}]}]}]}]}]},{"N":"str","sType":"1AS ","val":"1","role":"format"},{"N":"str","sType":"1AS ","val":"1","role":"startAt"}]}]}]},{"N":"sequence","sType":"?NA ","C":[{"N":"att","name":"data-idx-w","sType":"1NA ","line":"19","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"valueOf","sType":"1NT ","flags":"l","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"arith10","sType":"?AO","op":"-","calc":"d-d","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ","role":"select","line":"7","C":[{"N":"atomSing","diag":"1|0||arith","card":"?","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}idx-w","slot":"0"}]}]},{"N":"int","val":"1"}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":""}]}]},{"N":"att","name":"data-idx-n","sType":"1NA ","line":"20","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"valueOf","sType":"1NT ","flags":"l","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"arith10","sType":"?AO","op":"-","calc":"d-d","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ","role":"select","line":"9","C":[{"N":"atomSing","diag":"1|0||arith","card":"?","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}idx-n","slot":"1"}]}]},{"N":"int","val":"1"}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":""}]}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"0","seq":"0","ns":"xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 =http://www.w3.org/1999/xhtml","minImp":"0","flags":"s","slots":"200","baseUri":"file:///home/jeff/src/prj/crossreads/app/data/html2html.xslt","line":"10","module":"html2html.xslt","expand-text":"false","match":"node()|@*","prio":"-0.5","matches":"N u[NT,NP,NC,NE]","C":[{"N":"p.nodeTest","role":"match","test":"N u[NT,NP,NC,NE]","sType":"1N u[NT,NP,NC,NE]"},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","role":"action","line":"11","C":[{"N":"applyT","sType":"* ","line":"12","mode":"#unnamed","bSlot":"0","C":[{"N":"docOrder","sType":"*N u[N u[N u[N u[NT,NP],NC],NE],NA]","role":"select","line":"12","C":[{"N":"union","op":"|","sType":"*N u[N u[N u[N u[NT,NP],NC],NE],NA]","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]}]},{"N":"templateRule","rank":"2","prec":"0","seq":"0","ns":"xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 =http://www.w3.org/1999/xhtml","minImp":"0","flags":"s","slots":"200","baseUri":"file:///home/jeff/src/prj/crossreads/app/data/html2html.xslt","line":"10","module":"html2html.xslt","expand-text":"false","match":"node()|@*","prio":"-0.5","matches":"NA","C":[{"N":"p.nodeTest","role":"match","test":"NA","sType":"1NA"},{"N":"copy","sType":"1NA ","flags":"cin","role":"action","line":"11","C":[{"N":"applyT","sType":"* ","line":"12","mode":"#unnamed","bSlot":"0","C":[{"N":"docOrder","sType":"*N u[N u[N u[N u[NT,NP],NC],NE],NA]","role":"select","line":"12","C":[{"N":"union","op":"|","sType":"*N u[N u[N u[N u[NT,NP],NC],NE],NA]","ns":"= xml=~ xsl=~ tei=http://www.tei-c.org/ns/1.0 ","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"10"},{"N":"property","name":"method","value":"html"},{"N":"property","name":"encoding","value":"utf-8"},{"N":"property","name":"indent","value":"yes"}]},{"N":"decimalFormat"}],"Î£":"b5a71856"}